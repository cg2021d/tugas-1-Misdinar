<!DOCTYPE html>
<html lang="en">

<head>
        <title>Three.js | Thomas D. A | 0021</title>
        <script src="js/three.min.js"></script>
       
        <style>
                * {
                        margin: 0;
                        padding: 0;
                        background-color: black;
                        color: white;
                }
                #light {
                        border-radius: 2px;
                        border: 3px solid;
                        color: white;
                        text-align: center;
                        font-size:large;
                }
        </style>
</head>

<body>
        <h2 style="text-align: center; color:white; padding-top: 30px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                  font-size: 30px;"> Try Three js</h2>
        <br>
        <h3  style="text-align: center;color: white;font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Change the light</h3>
       <div style="position: relative;text-align: center; margin-top: 20px;">
        <select id="light">
                <option value="0">Ambient Light</option>
                <option value="1">Directional Light</option>
                <option value="2">Hemisphere Light</option>
                <option value="3">Point Light</option>
                <option value="4">Spotlight</option>
        </select>
        </div>
</body>

</html>

<script>    
        // create the scene
        let scene = new THREE.Scene();
        scene.background = new THREE.Color(0x212121);

        // create an locate the camera       
        let camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight,
                1, 1000);
        camera.position.z = 7;

        //Benda-benda

        // 1. Box
        let box;
        let createBox = function () {
                let geometry = new THREE.BoxGeometry(0.8, 1, 0.2);
                let material = new THREE.MeshPhongMaterial({ color: 0xD1E8E4,wireframe: true });
                box = new THREE.Mesh(geometry, material);
                scene.add(box);
        }
        //posisi box
        createBox();
        box.position.x = -3;
        box.position.y = 0.75;

        // 2. Sphere
        let sphere;
        let createSphere = function () {
                let geometry = new THREE.SphereGeometry(0.8, 69, 4);
                let material = new THREE.MeshPhysicalMaterial({ color: 0xC37B89, wireframe: true});
                sphere = new THREE.Mesh(geometry, material);
                scene.add(sphere);
        }
        //posisi box
        createSphere();
        sphere.position.x = -1;
        sphere.position.y = 0.75;

        // 3. kertas
        let kertas;
        let createKertas = function(){
            let geometry = new THREE.PlaneGeometry( 1, 1 );
            let material = new THREE.MeshPhysicalMaterial( {color: 0xF9F3DF, side: THREE.DoubleSide} );
            kertas = new THREE.Mesh( geometry, material );
            scene.add( kertas );
        }
        
        //posisi kertas
        createKertas();
        kertas.position.x = 1;
        kertas.position.y = 0.75;

        // 4. ring
        let ring;
        let createRing = function () {
                let geometry = new THREE.CylinderGeometry( 0.2, 0.5, 1, 32 );
                let material = new THREE.MeshLambertMaterial( {color: 0xffff00} );
                ring = new THREE.Mesh( geometry, material );
                scene.add( ring );                
        }
        //posisi ring
        createRing();
        ring.position.x = 3;
        ring.position.y = 0.75;

        // 5. tetrahedron
        let createTetrahedron = function () {
                let tetrahedronGeometry = new THREE.TetrahedronGeometry(0.8, 5);
                let tetrahedronMaterial = new THREE.MeshPhongMaterial({ color: 0xA2D2FF, wireframe: true});
                tetrahedron = new THREE.Mesh(tetrahedronGeometry, tetrahedronMaterial);
                scene.add(tetrahedron);
        }
        //posisi tetrahedron
        createTetrahedron();
        tetrahedron.position.x = -2;
        tetrahedron.position.y = -1;

        // 6. octahedron
        let octahedron;
        let createOctahedron = function () {
                let octahedronGeometry = new THREE.OctahedronGeometry(0.5);
                let octahedronMaterial = new THREE.MeshStandardMaterial({ color: 0x619eff, metalness: 0.1, roughness: 0.5 });
                octahedron = new THREE.Mesh(octahedronGeometry, octahedronMaterial);
                scene.add(octahedron);
        }
        //posisi octahedron
        createOctahedron();
        octahedron.position.x = -2;
        octahedron.position.y = -1;

        //7.Torus Knot
        let createTorusKnot = function(){
            let geometry = new THREE.TorusKnotGeometry(0.5, 0.15, 64, 32, 1, 3);
            let Material = new THREE.MeshStandardMaterial({ color: 0xB2F9FC, metalness: 0.2, roughness: 0.15, wireframe :true });
            TorusKnot = new THREE.Mesh(geometry, Material);
            scene.add(TorusKnot);

        }

        //posisi Torus Knot
        createTorusKnot();
        TorusKnot.position.x = -0;
        TorusKnot.position.y = -1;

        // 8. cone
        let cone;
        let createCone = function () {
                let geometry = new THREE.ConeGeometry(0.8, 0.8, 128, 8, false,Math.PI * 2,Math.PI * -1.35);
                let material = new THREE.MeshStandardMaterial({ color: 0x743DE2, wireframe :true });
                cone = new THREE.Mesh(geometry, material);
                scene.add(cone);
        }
        //posisi cone
        createCone();
        cone.position.x = 2;
        cone.position.y = -1;

        //9. flat circle
        let createFlatCircle = function () {
                let FlatCircleGeometry = new THREE.CircleGeometry(0.2, 14);
                let FlatCircleMaterial = new THREE.MeshPhongMaterial( {color: 0xFF0000,wireframe :true});
                FlatCircle =new THREE.Mesh(FlatCircleGeometry, FlatCircleMaterial);
                scene.add(FlatCircle);
        }
        //posisi Flat Circle
        createFlatCircle();
        FlatCircle.position.x = 2;
        FlatCircle.position.y = -1;
        
        
        //pencahayaan
        let lightsChange = function () {
                const aLight = new THREE.AmbientLight(0xffffff, 1);
                aLight.position.set(30, 10, 15);
                const dLight = new THREE.DirectionalLight(0xfffff, 1);
                dLight.position.set(30, 10, 15).normalize();
                const hLight = new THREE.HemisphereLight(0xffffff, 0x0095DD, 1);
                hLight.position.set(30, 10, 15);
                const pLight = new THREE.PointLight(0xffffff, 1, 75);
                pLight.position.set(30, 10, 15);
                const sLight = new THREE.SpotLight(0xffffff, 1, 50);
                sLight.position.set(30, 10, 15);

                const lights = [aLight, dLight, hLight, pLight, sLight];

                lights.forEach((obj) => scene.add(obj));

                lights.forEach((light) => {
                        light.visible = false;
                });
                lights[2].visible = true;

                const selectedLight = document.getElementById('light');
                selectedLight.addEventListener('change', (e) => {
                        const selected = e.target.value;
                        lights.forEach((light) => {
                                light.visible = false;
                        });
                        lights[selected].visible = true;
                });
        };

        lightsChange();

        // 4. create the renderer     
        renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);

        document.body.appendChild(renderer.domElement);

        // main animation loop - calls 50-60 in a second.
        let mainLoop = function () {
                //rotasi box
                box.rotation.y += 0.1;

                //rotasi sphere
                sphere.rotation.x += 0.01;
                sphere.rotation.y += 0.01;

                //rotasi kertas
                kertas.rotation.x += 0.01;
                kertas.rotation.y += 0.05;

                //rotasi ring
                ring.rotation.x += 0.03;
                ring.rotation.y += 0.01;

                //rotasi tetrahedron
                tetrahedron.rotation.x += 0.1;
                tetrahedron.rotation.y += 0.1;

                //rotasi octahedron
                octahedron.rotation.x += 0.1;
                octahedron.rotation.y += 0.1;

                //rotasi TorusKnot
                TorusKnot.rotation.y += 0.2;

                //rotasi cone
                cone.rotation.x += 0.03;
                cone.rotation.y -= 0.03;

                //rotasi circle
                FlatCircle.rotation.x +=0.03;
                FlatCircle.rotation.y +=0.1;
    
                renderer.render(scene, camera);
                requestAnimationFrame(mainLoop);
        };

        mainLoop();
</script>
